<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ValidationUtils.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Consecutive Character Conversion Processor</a> &gt; <a href="index.source.html" class="el_package">org.strtools.util</a> &gt; <span class="el_source">ValidationUtils.java</span></div><h1>ValidationUtils.java</h1><pre class="source lang-java linenums">package org.strtools.util;

import java.util.Objects;

/**
 * Utility class providing validation methods for input strings and characters.
 *
 * &lt;p&gt;This class contains static methods to validate that inputs conform to the
 * expected format (lowercase alphabetic characters only) and handle null values
 * appropriately.
 *
 * @since 1.0.0
 */
public final class ValidationUtils {

    /**
     * Private constructor to prevent instantiation of this utility class.
     */
<span class="nc" id="L19">    private ValidationUtils() {</span>
<span class="nc" id="L20">        throw new AssertionError(&quot;Utility class should not be instantiated&quot;);</span>
    }

    /**
     * Validates that a character is a lowercase letter (a-z).
     *
     * @param c the character to validate
     * @return true if the character is a lowercase letter, false otherwise
     */
    public static boolean isValidCharacter(char c) {
<span class="pc bpc" id="L30" title="1 of 4 branches missed.">        return c &gt;= 'a' &amp;&amp; c &lt;= 'z';</span>
    }

    /**
     * Validates that all characters in a string are lowercase letters (a-z).
     *
     * @param input the string to validate, may be null
     * @return true if all characters are valid lowercase letters or the string is null/empty
     */
    public static boolean isValidString(String input) {
<span class="pc bpc" id="L40" title="1 of 4 branches missed.">        if (input == null || input.isEmpty()) {</span>
<span class="fc" id="L41">            return true;</span>
        }

<span class="fc" id="L44">        return input.chars().allMatch(ValidationUtils::isValidCharacterCodePoint);</span>
    }

    /**
     * Helper method to check if a code point represents a valid lowercase letter.
     *
     * @param codePoint the code point to check
     * @return true if the code point is a valid lowercase letter
     */
    private static boolean isValidCharacterCodePoint(int codePoint) {
<span class="pc bpc" id="L54" title="1 of 4 branches missed.">        return codePoint &gt;= 'a' &amp;&amp; codePoint &lt;= 'z';</span>
    }

    /**
     * Normalizes input by converting null to an empty string.
     *
     * @param input the input string to normalize, may be null
     * @return the original string if not null, otherwise an empty string
     */
    public static String normalizeInput(String input) {
<span class="fc" id="L64">        return Objects.requireNonNullElse(input, &quot;&quot;);</span>
    }

    /**
     * Validates input and throws an exception if invalid characters are found.
     *
     * @param input the string to validate
     * @throws IllegalArgumentException if the string contains invalid characters
     */
    public static void validateOrThrow(String input) {
<span class="fc" id="L74">        String normalized = normalizeInput(input);</span>
<span class="fc bfc" id="L75" title="All 2 branches covered.">        if (!isValidString(normalized)) {</span>
<span class="fc" id="L76">            throw new IllegalArgumentException(</span>
                    &quot;Input contains invalid characters. Only lowercase letters (a-z) are allowed.&quot;
            );
        }
<span class="fc" id="L80">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.9.202303310957</span></div></body></html>